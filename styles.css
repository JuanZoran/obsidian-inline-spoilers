/*!
 * Inline Spoilers for Obsidian
 * https://github.com/logonoff/obsidian-inline-spoilers
 * SPDX-License-Identifier: GPL-3.0-or-later
 */
/* spoiler bar */
.inline_spoilers-spoiler,
.inline_spoilers-editor-spoiler,
.inline_spoilers-editor-spoiler-delimiter {
	/* obscured - glassmorphism blur effect */
	background-color: var(--inline-spoilers-mask, hsla(var(--color-accent-hsl), 0.25)) !important;
	backdrop-filter: blur(8px) saturate(180%) !important;
	-webkit-backdrop-filter: blur(8px) saturate(180%) !important;
	filter: blur(var(--inline-spoilers-blur, 2px)) !important;
	color: var(--inline-spoilers-text, var(--text-normal)) !important;
	opacity: 0.4 !important;
	transition: all 0.2s ease !important;

	> * {
		/* fix for links */
		color: var(--inline-spoilers-text, var(--text-normal)) !important;
		text-decoration: none !important;
		opacity: inherit !important;
	}
}

/* hover to reveal */
.inline_spoilers-spoiler:hover,
.inline_spoilers-editor-spoiler:hover,
.inline_spoilers-editor-spoiler-hover {
	background-color: var(--inline-spoilers-hover-mask, hsla(var(--color-accent-hsl), 0.075)) !important;
	backdrop-filter: none !important;
	-webkit-backdrop-filter: none !important;
	filter: none !important;
	opacity: 1 !important;
	color: var(--inline-spoilers-text-revealed, var(--text-accent)) !important;

	> * {
		color: var(--inline-spoilers-text-revealed, var(--text-accent)) !important;
		opacity: 1 !important;
		text-decoration: unset !important;
	}
}

.inline_spoilers-revealed,
.cm-active .inline_spoilers-editor-spoiler,
.cm-active .inline_spoilers-editor-spoiler-delimiter,

.inline_spoilers-revealed .inline_spoilers-spoiler,
.inline_spoilers-revealed .inline_spoilers-editor-spoiler,
.inline_spoilers-revealed .inline_spoilers-editor-spoiler-delimiter {
	/* revealed */
	background-color: hsla(var(--color-accent-hsl), 0.075) !important;
	backdrop-filter: none !important;
	-webkit-backdrop-filter: none !important;
	filter: none !important;
	opacity: 1 !important;
	color: var(--inline-spoilers-text-revealed, var(--text-accent)) !important;

	> * {
		/* fix for links */
		color: var(--inline-spoilers-text-revealed, var(--text-accent)) !important;
		opacity: 1 !important;
		text-decoration: unset !important;
	}
}

/* reader */
.inline_spoilers-spoiler {
	border-radius: var(--radius-s);
}

/* editor */
.is-live-preview .inline_spoilers-editor-spoiler {
	border-radius: var(--radius-s);
}

.is-live-preview .cm-active .inline_spoilers-editor-spoiler {
	/* contiguous border radius with the delimiter */
	border-radius: 0em;
}

/* delimiter */
.cm-line .inline_spoilers-editor-spoiler-delimiter {
}

.cm-line .inline_spoilers-editor-spoiler-delimiter:has(+ .inline_spoilers-editor-spoiler) {
	border-radius: var(--radius-s) 0 0 var(--radius-s);
}
.cm-line .inline_spoilers-editor-spoiler + .inline_spoilers-editor-spoiler-delimiter {
	border-radius: 0 var(--radius-s) var(--radius-s) 0;
}

.is-live-preview .inline_spoilers-editor-spoiler-delimiter {
	display: none;
}

.is-live-preview .cm-active .inline_spoilers-editor-spoiler-delimiter {
	display: unset;
}

.inline_spoilers-preview-card {
	margin-top: 12px;
	padding: 12px 14px;
	border-radius: var(--radius-m);
	background-color: rgba(255, 255, 255, 0.02);
	border: 1px solid rgba(255, 255, 255, 0.04);
}

.inline_spoilers-preview-title {
	font-weight: 600;
	margin-bottom: 6px;
}

.inline_spoilers-preview-body {
	font-size: 14px;
	line-height: 1.5;
}
